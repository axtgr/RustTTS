# üõ† –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ (Development Guide)

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç, –∫–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ, —Å–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã.

## üìã –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è (Prerequisites)

–î–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞–¥ –ø—Ä–æ–µ–∫—Ç–æ–º –≤–∞–º –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è:

1.  **Rust Toolchain**: –ü–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è.
    ```bash
    curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
    ```
2.  **–°–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**:
    *   `build-essential` / `gcc` (–¥–ª—è —Å–±–æ—Ä–∫–∏ –∫—Ä–µ–π—Ç–æ–≤)
    *   `pkg-config`, `libssl-dev` (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –Ω–∞–±–æ—Ä)
3.  **CUDA Toolkit** (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è GPU backend):
    *   –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –≤–µ—Ä—Å–∏—è: 11.8 –∏–ª–∏ 12.x.
    *   –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `nvcc` –¥–æ—Å—Ç—É–ø–µ–Ω –≤ PATH.

> **–í–∞–∂–Ω–æ:** Python –∑–∞–ø—Ä–µ—â–µ–Ω –≤ runtime –∫–æ–¥–∞, –Ω–æ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º –ª–æ–∫–∞–ª—å–Ω–æ –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –≤–µ—Å–æ–≤ –∏–ª–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ —Ñ–æ—Ä–º–∞—Ç–æ–≤ (–µ—Å–ª–∏ —ç—Ç–æ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–æ –≤ `utils/`).

## üèó –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Workspace

–ü—Ä–æ–µ–∫—Ç –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω –∫–∞–∫ Cargo Workspace. –û–∂–∏–¥–∞–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–ø–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –§–∞–∑—ã 0):

```text
RustTTS/
‚îú‚îÄ‚îÄ Cargo.toml          # Workspace config
‚îú‚îÄ‚îÄ docs/               # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ crates/
‚îÇ   ‚îú‚îÄ‚îÄ tts-core        # –û–±—â–∏–µ —Ç—Ä–µ–π—Ç—ã –∏ —Ç–∏–ø—ã
‚îÇ   ‚îú‚îÄ‚îÄ text-normalizer # –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ text-tokenizer  # BPE/Unigram —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ acoustic-model  # –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä (Inference)
‚îÇ   ‚îú‚îÄ‚îÄ audio-codec     # –î–µ–∫–æ–¥–µ—Ä 12Hz -> PCM
‚îÇ   ‚îî‚îÄ‚îÄ tts-cli         # CLI —É—Ç–∏–ª–∏—Ç–∞
‚îî‚îÄ‚îÄ models/             # –õ–æ–∫–∞–ª—å–Ω–∞—è –ø–∞–ø–∫–∞ –¥–ª—è –≤–µ—Å–æ–≤ (git-ignored)
```

## üöÄ –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –ë–∞–∑–æ–≤–∞—è —Å–±–æ—Ä–∫–∞
```bash
cargo build --release
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```bash
cargo test --workspace
```

### –†–∞–±–æ—Ç–∞ —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π
–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–æ–¥–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º `rustdoc`:
```bash
cargo doc --open --no-deps
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç—Ä–µ—Ö—É—Ä–æ–≤–Ω–µ–≤—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

1.  **Unit Tests:** –ë—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã –ª–æ–≥–∏–∫–∏ –≤–Ω—É—Ç—Ä–∏ –º–æ–¥—É–ª–µ–π.
    *   –ó–∞–ø—É—Å–∫: `cargo test`
2.  **Golden Tests:** –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤—ã—Ö–æ–¥–æ–≤ —Å —ç—Ç–∞–ª–æ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (–Ω—É–∂–Ω—ã –º–∏–Ω–∏-–≤–µ—Å–∞).
    *   –¢—Ä–µ–±—É—é—Ç –Ω–∞–ª–∏—á–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –≤–µ—Å–æ–≤ –≤ `models/`.
    *   –ó–∞–ø—É—Å–∫: `cargo test --features golden_tests`
3.  **Benchmarks:** –ó–∞–º–µ—Ä—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.
    *   –ó–∞–ø—É—Å–∫: `cargo bench`

## ü§ù Code Style
–ú—ã —Å–ª–µ–¥—É–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º —Å–æ–≥–ª–∞—à–µ–Ω–∏—è–º Rust. –ü–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```bash
cargo fmt
cargo clippy -- -D warnings
```
